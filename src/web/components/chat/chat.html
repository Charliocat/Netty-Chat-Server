<body>
  <div class="main-box">

    <div id ="chat-toolbar" class = "btn-group" ng-controller="ChatModalController as $ctrl">

      <button type="button" class="btn btn-primary"  ng-click="$ctrl.openChatLobbies()">Lobbies</button>
      <button type="button" class="btn btn-info">Sign Out</button>
      <button type="button" class="btn btn-default" ng-click="$ctrl.openGames()">Games</button>
    </div>
    
    <div id='user-list' ng-controller="ChatUsersController" >
      <div ng-style = "{'text-align' : 'center'}"><h4>{{lobbyName}}</h4></div>
      <div ng-repeat = "user in usernames" context-menu = "rightClickUser" >{{user}}</div>
    </div>
    
    <div id='messages' ng-controller="ChatReceiveController">
      <div ng-repeat ="x in messages track by $index"> <code>{{x}}</code> </div>
    </div>

    <div id="msg-sender">
    <form class="form-inline" ng-submit="sendMessage()" ng-controller="ChatSendController">
      <input type="text" class="form-control" placeholder='Your message here!' ng-model="message"
      ng-init="message = '' " style="width:80%">
      <span class="input-group-btn" style="width:20%; height:100%" >
        <button class="btn btn-secondary" type="button" ng-click="sendMessage()">Send</button>
      </span>
    </form>
    </div>
    <!--
    <div class="input-block-level" id='msg-sender'>
      <div class="input-group" ng-controller = "ChatSendController">
        <form ng-submit="sendMessage()" style="width:80%">
          <input type="text" class="form-inline" placeholder="Your message here!" ng-model = "message" ng-init="message = '' " >
        </form>
        <span class="input-group-btn">
          <button class="btn btn-secondary" type="button" ng-click="sendMessage()">Send</button>
        </span>
      </div>
    </div>
    -->
  </div>

</body>


<style media="screen" type="text/css">
/* 'Open Sans' font from Google Fonts */
@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,700);

body {
  background:#456;
}
 
.main-box{
  width: 50%;
  height: 60%;
  margin: auto;
  position: fixed;
  top: 0; left: 0; bottom: 0; right: 0;
  z-index: 999;
  border:5px solid;
  color:black;
  background-color:white;
}

#chat-toolbar {
  height: 10%;
  width: 100%;
  background-color: white;
}

#msg-sender{
  position: absolute;
  width:100%;
  height:10%;
  bottom: 0;
  left: 0;
}

#user-list{
  position:absolute;
  right:0;
  width:20%;
  height:80%;

  background-color: lightgrey;

  overflow-x:auto;
  overflow-y:auto;
}

#messages {
  width:80%;
  overflow-y:auto;
  word-wrap: break-word;
  white-space: pre-wrap;
  height:100%;
  height:80%;
}

/* for debugging */

div:hover {
    outline: 1px solid blue;
}

#modal-close-icon {
  right:10%;
  position:absolute;
}


.modal-dialog {
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow:auto;
  min-height: calc(100vh - 60px);
}
@media (max-width: 767px) {
  .modal-dialog {
    min-height: calc(100vh - 20px);
}

</style>